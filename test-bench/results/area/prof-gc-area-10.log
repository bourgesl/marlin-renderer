# JMH version: 1.34
# VM version: JDK 17.0.1, OpenJDK 64-Bit Server VM, 17.0.1+12-LTS
# VM invoker: /home/bourgesl/apps/zulu17.30.15-ca-fx-jdk17.0.1-linux_x64/bin/java
# VM options: -Xms1g -Xmx1g -XX:+UseParallelGC -XX:NewRatio=2 -XX:-BackgroundCompilation -XX:+AlwaysPreTouch -XX:+UseTransparentHugePages -Djmh.stack.excludePackages=false --add-modules=java.desktop --add-exports=java.desktop/sun.java2d.marlin=ALL-UNNAMED --patch-module=java.desktop=/home/marlin/branches/marlin-jdk/test-bench/../target/marlin-0.9.4.5-Unsafe-OpenJDK11.jar
# Blackhole mode: compiler (auto-detected, use -Djmh.blackhole.autoDetect=false to disable)
# Warmup: 5 iterations, 1 s each
# Measurement: 5 iterations, 5 s each
# Timeout: 10 min per iteration
# Threads: 1 thread, will synchronize iterations
# Benchmark mode: Sampling time
# Benchmark: org.marlin.bench.AreaSubtractBenchmark.doClip
# Parameters: (length = 10)

# Run progress: 0.00% complete, ETA 00:01:00
# Fork: 1 of 1
# Warmup Iteration   1: 130.488 ±(99.9%) 245.964 ms/op
# Warmup Iteration   2: 10.418 ±(99.9%) 10.501 ms/op
# Warmup Iteration   3: 4.016 ±(99.9%) 1.964 ms/op
# Warmup Iteration   4: 1.628 ±(99.9%) 0.356 ms/op
# Warmup Iteration   5: 1.301 ±(99.9%) 0.011 ms/op
Iteration   1: 1.337 ±(99.9%) 0.125 ms/op
                 doClip·p0.00:                 1.278 ms/op
                 doClip·p0.50:                 1.290 ms/op
                 doClip·p0.90:                 1.298 ms/op
                 doClip·p0.95:                 1.360 ms/op
                 doClip·p0.99:                 1.384 ms/op
                 doClip·p0.999:                3.052 ms/op
                 doClip·p0.9999:               142.868 ms/op
                 doClip·p1.00:                 142.868 ms/op
                 ·gc.alloc.rate:               322.368 MB/sec
                 ·gc.alloc.rate.norm:          498308.436 B/op
                 ·gc.churn.PS_Eden_Space:      308.192 MB/sec
                 ·gc.churn.PS_Eden_Space.norm: 476395.632 B/op
                 ·gc.count:                    6.000 counts
                 ·gc.time:                     2.000 ms

Iteration   2: 1.297 ±(99.9%) 0.003 ms/op
                 doClip·p0.00:                 1.278 ms/op
                 doClip·p0.50:                 1.288 ms/op
                 doClip·p0.90:                 1.298 ms/op
                 doClip·p0.95:                 1.362 ms/op
                 doClip·p0.99:                 1.403 ms/op
                 doClip·p0.999:                1.979 ms/op
                 doClip·p0.9999:               3.740 ms/op
                 doClip·p1.00:                 3.740 ms/op
                 ·gc.alloc.rate:               332.681 MB/sec
                 ·gc.alloc.rate.norm:          498277.173 B/op
                 ·gc.churn.PS_Eden_Space:      305.338 MB/sec
                 ·gc.churn.PS_Eden_Space.norm: 457322.866 B/op
                 ·gc.count:                    5.000 counts
                 ·gc.time:                     1.000 ms

Iteration   3: 1.297 ±(99.9%) 0.002 ms/op
                 doClip·p0.00:                 1.278 ms/op
                 doClip·p0.50:                 1.290 ms/op
                 doClip·p0.90:                 1.300 ms/op
                 doClip·p0.95:                 1.360 ms/op
                 doClip·p0.99:                 1.396 ms/op
                 doClip·p0.999:                1.783 ms/op
                 doClip·p0.9999:               2.075 ms/op
                 doClip·p1.00:                 2.075 ms/op
                 ·gc.alloc.rate:               332.524 MB/sec
                 ·gc.alloc.rate.norm:          498278.714 B/op
                 ·gc.churn.PS_Eden_Space:      305.351 MB/sec
                 ·gc.churn.PS_Eden_Space.norm: 457560.436 B/op
                 ·gc.count:                    5.000 counts
                 ·gc.time:                     1.000 ms

Iteration   4: 1.290 ±(99.9%) 0.001 ms/op
                 doClip·p0.00:                 1.278 ms/op
                 doClip·p0.50:                 1.288 ms/op
                 doClip·p0.90:                 1.294 ms/op
                 doClip·p0.95:                 1.296 ms/op
                 doClip·p0.99:                 1.300 ms/op
                 doClip·p0.999:                1.722 ms/op
                 doClip·p0.9999:               2.159 ms/op
                 doClip·p1.00:                 2.159 ms/op
                 ·gc.alloc.rate:               334.349 MB/sec
                 ·gc.alloc.rate.norm:          498276.459 B/op
                 ·gc.churn.PS_Eden_Space:      305.283 MB/sec
                 ·gc.churn.PS_Eden_Space.norm: 454960.661 B/op
                 ·gc.count:                    5.000 counts
                 ·gc.time:                     2.000 ms

Iteration   5: 1.294 ±(99.9%) 0.002 ms/op
                 doClip·p0.00:                 1.276 ms/op
                 doClip·p0.50:                 1.290 ms/op
                 doClip·p0.90:                 1.296 ms/op
                 doClip·p0.95:                 1.337 ms/op
                 doClip·p0.99:                 1.358 ms/op
                 doClip·p0.999:                1.839 ms/op
                 doClip·p0.9999:               2.347 ms/op
                 doClip·p1.00:                 2.347 ms/op
                 ·gc.alloc.rate:               333.392 MB/sec
                 ·gc.alloc.rate.norm:          498276.844 B/op
                 ·gc.churn.PS_Eden_Space:      305.277 MB/sec
                 ·gc.churn.PS_Eden_Space.norm: 456256.845 B/op
                 ·gc.count:                    5.000 counts
                 ·gc.time:                     1.000 ms



Result "org.marlin.bench.AreaSubtractBenchmark.doClip":
  N = 19168
  mean =      1.303 ±(99.9%) 0.024 ms/op

  Histogram, ms/op:
    [  0.000,  12.500) = 19167 
    [ 12.500,  25.000) = 0 
    [ 25.000,  37.500) = 0 
    [ 37.500,  50.000) = 0 
    [ 50.000,  62.500) = 0 
    [ 62.500,  75.000) = 0 
    [ 75.000,  87.500) = 0 
    [ 87.500, 100.000) = 0 
    [100.000, 112.500) = 0 
    [112.500, 125.000) = 0 
    [125.000, 137.500) = 0 
    [137.500, 150.000) = 1 
    [150.000, 162.500) = 0 
    [162.500, 175.000) = 0 
    [175.000, 187.500) = 0 

  Percentiles, ms/op:
      p(0.0000) =      1.276 ms/op
     p(50.0000) =      1.288 ms/op
     p(90.0000) =      1.296 ms/op
     p(95.0000) =      1.352 ms/op
     p(99.0000) =      1.376 ms/op
     p(99.9000) =      1.908 ms/op
     p(99.9900) =     18.475 ms/op
     p(99.9990) =    142.868 ms/op
     p(99.9999) =    142.868 ms/op
    p(100.0000) =    142.868 ms/op

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClip:·gc.alloc.rate":
  331.063 ±(99.9%) 18.921 MB/sec [Average]
  (min, avg, max) = (322.368, 331.063, 334.349), stdev = 4.914
  CI (99.9%): [312.142, 349.984] (assumes normal distribution)

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClip:·gc.alloc.rate.norm":
  498283.525 ±(99.9%) 53.724 B/op [Average]
  (min, avg, max) = (498276.459, 498283.525, 498308.436), stdev = 13.952
  CI (99.9%): [498229.802, 498337.249] (assumes normal distribution)

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClip:·gc.churn.PS_Eden_Space":
  305.888 ±(99.9%) 4.961 MB/sec [Average]
  (min, avg, max) = (305.277, 305.888, 308.192), stdev = 1.288
  CI (99.9%): [300.927, 310.849] (assumes normal distribution)

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClip:·gc.churn.PS_Eden_Space.norm":
  460499.288 ±(99.9%) 34446.317 B/op [Average]
  (min, avg, max) = (454960.661, 460499.288, 476395.632), stdev = 8945.599
  CI (99.9%): [426052.971, 494945.605] (assumes normal distribution)

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClip:·gc.count":
  26.000 ±(99.9%) 0.001 counts [Sum]
  (min, avg, max) = (5.000, 5.200, 6.000), stdev = 0.447
  CI (99.9%): [26.000, 26.000] (assumes normal distribution)

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClip:·gc.time":
  7.000 ±(99.9%) 0.001 ms [Sum]
  (min, avg, max) = (1.000, 1.400, 2.000), stdev = 0.548
  CI (99.9%): [7.000, 7.000] (assumes normal distribution)


# JMH version: 1.34
# VM version: JDK 17.0.1, OpenJDK 64-Bit Server VM, 17.0.1+12-LTS
# VM invoker: /home/bourgesl/apps/zulu17.30.15-ca-fx-jdk17.0.1-linux_x64/bin/java
# VM options: -Xms1g -Xmx1g -XX:+UseParallelGC -XX:NewRatio=2 -XX:-BackgroundCompilation -XX:+AlwaysPreTouch -XX:+UseTransparentHugePages -Djmh.stack.excludePackages=false --add-modules=java.desktop --add-exports=java.desktop/sun.java2d.marlin=ALL-UNNAMED --patch-module=java.desktop=/home/marlin/branches/marlin-jdk/test-bench/../target/marlin-0.9.4.5-Unsafe-OpenJDK11.jar
# Blackhole mode: compiler (auto-detected, use -Djmh.blackhole.autoDetect=false to disable)
# Warmup: 5 iterations, 1 s each
# Measurement: 5 iterations, 5 s each
# Timeout: 10 min per iteration
# Threads: 1 thread, will synchronize iterations
# Benchmark mode: Sampling time
# Benchmark: org.marlin.bench.AreaSubtractBenchmark.doClipTwice
# Parameters: (length = 10)

# Run progress: 50.00% complete, ETA 00:00:42
# Fork: 1 of 1
# Warmup Iteration   1: 4739.564 ms/op
# Warmup Iteration   2: 3657.433 ms/op
# Warmup Iteration   3: 3661.627 ms/op
# Warmup Iteration   4: 3670.016 ms/op
# Warmup Iteration   5: 3657.433 ms/op
Iteration   1: 3707.765 ms/op
                 doClipTwice·p0.00:            3661.627 ms/op
                 doClipTwice·p0.50:            3707.765 ms/op
                 doClipTwice·p0.90:            3753.902 ms/op
                 doClipTwice·p0.95:            3753.902 ms/op
                 doClipTwice·p0.99:            3753.902 ms/op
                 doClipTwice·p0.999:           3753.902 ms/op
                 doClipTwice·p0.9999:          3753.902 ms/op
                 doClipTwice·p1.00:            3753.902 ms/op
                 ·gc.alloc.rate:               31.839 MB/sec
                 ·gc.alloc.rate.norm:          132727676.000 B/op
                 ·gc.churn.PS_Eden_Space:      32.196 MB/sec
                 ·gc.churn.PS_Eden_Space.norm: 134217728.000 B/op
                 ·gc.count:                    1.000 counts
                 ·gc.time:                     3.000 ms

Iteration   2: 3646.947 ms/op
                 doClipTwice·p0.00:   3632.267 ms/op
                 doClipTwice·p0.50:   3646.947 ms/op
                 doClipTwice·p0.90:   3661.627 ms/op
                 doClipTwice·p0.95:   3661.627 ms/op
                 doClipTwice·p0.99:   3661.627 ms/op
                 doClipTwice·p0.999:  3661.627 ms/op
                 doClipTwice·p0.9999: 3661.627 ms/op
                 doClipTwice·p1.00:   3661.627 ms/op
                 ·gc.alloc.rate:      32.420 MB/sec
                 ·gc.alloc.rate.norm: 132594412.000 B/op
                 ·gc.count:           ≈ 0 counts

Iteration   3: 3720.348 ms/op
                 doClipTwice·p0.00:   3649.044 ms/op
                 doClipTwice·p0.50:   3720.348 ms/op
                 doClipTwice·p0.90:   3791.651 ms/op
                 doClipTwice·p0.95:   3791.651 ms/op
                 doClipTwice·p0.99:   3791.651 ms/op
                 doClipTwice·p0.999:  3791.651 ms/op
                 doClipTwice·p0.9999: 3791.651 ms/op
                 doClipTwice·p1.00:   3791.651 ms/op
                 ·gc.alloc.rate:      31.808 MB/sec
                 ·gc.alloc.rate.norm: 132529444.000 B/op
                 ·gc.count:           ≈ 0 counts

Iteration   4: 3640.656 ms/op
                 doClipTwice·p0.00:   3623.879 ms/op
                 doClipTwice·p0.50:   3640.656 ms/op
                 doClipTwice·p0.90:   3657.433 ms/op
                 doClipTwice·p0.95:   3657.433 ms/op
                 doClipTwice·p0.99:   3657.433 ms/op
                 doClipTwice·p0.999:  3657.433 ms/op
                 doClipTwice·p0.9999: 3657.433 ms/op
                 doClipTwice·p1.00:   3657.433 ms/op
                 ·gc.alloc.rate:      32.461 MB/sec
                 ·gc.alloc.rate.norm: 132511324.000 B/op
                 ·gc.count:           ≈ 0 counts

Iteration   5: 3638.559 ms/op
                 doClipTwice·p0.00:   3636.462 ms/op
                 doClipTwice·p0.50:   3638.559 ms/op
                 doClipTwice·p0.90:   3640.656 ms/op
                 doClipTwice·p0.95:   3640.656 ms/op
                 doClipTwice·p0.99:   3640.656 ms/op
                 doClipTwice·p0.999:  3640.656 ms/op
                 doClipTwice·p0.9999: 3640.656 ms/op
                 doClipTwice·p1.00:   3640.656 ms/op
                 ·gc.alloc.rate:      32.483 MB/sec
                 ·gc.alloc.rate.norm: 132509180.000 B/op
                 ·gc.count:           ≈ 0 counts



Result "org.marlin.bench.AreaSubtractBenchmark.doClipTwice":
  N = 10
  mean =   3670.855 ±(99.9%) 84.486 ms/op

  Histogram, ms/op:
    [3600.000, 3612.500) = 0 
    [3612.500, 3625.000) = 1 
    [3625.000, 3637.500) = 2 
    [3637.500, 3650.000) = 2 
    [3650.000, 3662.500) = 3 
    [3662.500, 3675.000) = 0 
    [3675.000, 3687.500) = 0 
    [3687.500, 3700.000) = 0 
    [3700.000, 3712.500) = 0 
    [3712.500, 3725.000) = 0 
    [3725.000, 3737.500) = 0 
    [3737.500, 3750.000) = 0 
    [3750.000, 3762.500) = 1 
    [3762.500, 3775.000) = 0 
    [3775.000, 3787.500) = 0 

  Percentiles, ms/op:
      p(0.0000) =   3623.879 ms/op
     p(50.0000) =   3653.239 ms/op
     p(90.0000) =   3787.876 ms/op
     p(95.0000) =   3791.651 ms/op
     p(99.0000) =   3791.651 ms/op
     p(99.9000) =   3791.651 ms/op
     p(99.9900) =   3791.651 ms/op
     p(99.9990) =   3791.651 ms/op
     p(99.9999) =   3791.651 ms/op
    p(100.0000) =   3791.651 ms/op

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClipTwice:·gc.alloc.rate":
  32.202 ±(99.9%) 1.335 MB/sec [Average]
  (min, avg, max) = (31.808, 32.202, 32.483), stdev = 0.347
  CI (99.9%): [30.867, 33.538] (assumes normal distribution)

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClipTwice:·gc.alloc.rate.norm":
  132574407.200 ±(99.9%) 355779.934 B/op [Average]
  (min, avg, max) = (132509180.000, 132574407.200, 132727676.000), stdev = 92394.919
  CI (99.9%): [132218627.266, 132930187.134] (assumes normal distribution)

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClipTwice:·gc.churn.PS_Eden_Space":
  6.439 ±(99.9%) 55.444 MB/sec [Average]
  (min, avg, max) = (≈ 0, 6.439, 32.196), stdev = 14.399
  CI (99.9%): [≈ 0, 61.883] (assumes normal distribution)

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClipTwice:·gc.churn.PS_Eden_Space.norm":
  26843545.600 ±(99.9%) 231131023.130 B/op [Average]
  (min, avg, max) = (≈ 0, 26843545.600, 134217728.000), stdev = 60023992.719
  CI (99.9%): [≈ 0, 257974568.730] (assumes normal distribution)

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClipTwice:·gc.count":
  1.000 ±(99.9%) 0.001 counts [Sum]
  (min, avg, max) = (≈ 0, 0.200, 1.000), stdev = 0.447
  CI (99.9%): [1.000, 1.000] (assumes normal distribution)

Secondary result "org.marlin.bench.AreaSubtractBenchmark.doClipTwice:·gc.time":
  3.000 ±(99.9%) 0.001 ms [Sum]
  (min, avg, max) = (≈ 0, 0.600, 3.000), stdev = 1.342
  CI (99.9%): [3.000, 3.000] (assumes normal distribution)


# Run complete. Total time: 00:01:51

REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on
why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial
experiments, perform baseline and negative tests that provide experimental control, make sure
the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.
Do not assume the numbers tell you what you want them to tell.

NOTE: Current JVM experimentally supports Compiler Blackholes, and they are in use. Please exercise
extra caution when trusting the results, look into the generated code to check the benchmark still
works, and factor in a small probability of new VM bugs. Additionally, while comparisons between
different JVMs are already problematic, the performance difference caused by different Blackhole
modes can be very significant. Please make sure you use the consistent Blackhole mode for comparisons.

Benchmark                                                       (length)    Mode    Cnt          Score           Error   Units
AreaSubtractBenchmark.doClip                                          10  sample  19168          1.303 ±         0.024   ms/op
AreaSubtractBenchmark.doClip:doClip·p0.00                             10  sample                 1.276                   ms/op
AreaSubtractBenchmark.doClip:doClip·p0.50                             10  sample                 1.288                   ms/op
AreaSubtractBenchmark.doClip:doClip·p0.90                             10  sample                 1.296                   ms/op
AreaSubtractBenchmark.doClip:doClip·p0.95                             10  sample                 1.352                   ms/op
AreaSubtractBenchmark.doClip:doClip·p0.99                             10  sample                 1.376                   ms/op
AreaSubtractBenchmark.doClip:doClip·p0.999                            10  sample                 1.908                   ms/op
AreaSubtractBenchmark.doClip:doClip·p0.9999                           10  sample                18.475                   ms/op
AreaSubtractBenchmark.doClip:doClip·p1.00                             10  sample               142.868                   ms/op
AreaSubtractBenchmark.doClip:·gc.alloc.rate                           10  sample      5        331.063 ±        18.921  MB/sec
AreaSubtractBenchmark.doClip:·gc.alloc.rate.norm                      10  sample      5     498283.525 ±        53.724    B/op
AreaSubtractBenchmark.doClip:·gc.churn.PS_Eden_Space                  10  sample      5        305.888 ±         4.961  MB/sec
AreaSubtractBenchmark.doClip:·gc.churn.PS_Eden_Space.norm             10  sample      5     460499.288 ±     34446.317    B/op
AreaSubtractBenchmark.doClip:·gc.count                                10  sample      5         26.000                  counts
AreaSubtractBenchmark.doClip:·gc.time                                 10  sample      5          7.000                      ms
AreaSubtractBenchmark.doClipTwice                                     10  sample     10       3670.855 ±        84.486   ms/op
AreaSubtractBenchmark.doClipTwice:doClipTwice·p0.00                   10  sample              3623.879                   ms/op
AreaSubtractBenchmark.doClipTwice:doClipTwice·p0.50                   10  sample              3653.239                   ms/op
AreaSubtractBenchmark.doClipTwice:doClipTwice·p0.90                   10  sample              3787.876                   ms/op
AreaSubtractBenchmark.doClipTwice:doClipTwice·p0.95                   10  sample              3791.651                   ms/op
AreaSubtractBenchmark.doClipTwice:doClipTwice·p0.99                   10  sample              3791.651                   ms/op
AreaSubtractBenchmark.doClipTwice:doClipTwice·p0.999                  10  sample              3791.651                   ms/op
AreaSubtractBenchmark.doClipTwice:doClipTwice·p0.9999                 10  sample              3791.651                   ms/op
AreaSubtractBenchmark.doClipTwice:doClipTwice·p1.00                   10  sample              3791.651                   ms/op
AreaSubtractBenchmark.doClipTwice:·gc.alloc.rate                      10  sample      5         32.202 ±         1.335  MB/sec
AreaSubtractBenchmark.doClipTwice:·gc.alloc.rate.norm                 10  sample      5  132574407.200 ±    355779.934    B/op
AreaSubtractBenchmark.doClipTwice:·gc.churn.PS_Eden_Space             10  sample      5          6.439 ±        55.444  MB/sec
AreaSubtractBenchmark.doClipTwice:·gc.churn.PS_Eden_Space.norm        10  sample      5   26843545.600 ± 231131023.130    B/op
AreaSubtractBenchmark.doClipTwice:·gc.count                           10  sample      5          1.000                  counts
AreaSubtractBenchmark.doClipTwice:·gc.time                            10  sample      5          3.000                      ms
